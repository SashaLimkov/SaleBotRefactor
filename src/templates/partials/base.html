{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <title>{% block title %}{% endblock title %} | CommIT Admin</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta content="Premium Multipurpose Admin & Dashboard Template" name="description" />
    <meta content="Themesdesign" name="author" />
    <!-- App favicon -->
    <link rel="shortcut icon" href="{% static 'images/favicon.ico'%}">

    {% block css %}
    {% block extra_css %}
    {% endblock extra_css %}
    <!-- preloader css -->
    <link rel="stylesheet" href="{% static 'css/preloader.min.css'%}" type="text/css" />

    <!-- Bootstrap Css -->
    <link href="{% static 'css/bootstrap.min.css'%}" id="bootstrap-style" rel="stylesheet" type="text/css" />
    <!-- Icons Css -->
    <link href="{% static 'css/icons.min.css'%}" rel="stylesheet" type="text/css" />
    <!-- App Css-->
    <link href="{% static 'css/app.min.css'%}" id="app-style" rel="stylesheet" type="text/css" />

        <link rel="stylesheet" href="{% static 'libs/flatpickr/dist/flatpickr.min.css'%}">
    {% endblock css %}

</head>

<body {% block extra_body %} data-topbar="dark"{% endblock extra_body %}>
    <!-- Begin page -->
    <div id="layout-wrapper">
        {% block header %}
        {% include "partials/header.html" %}
        {% endblock header %}

        {% block left_sidebar %}
        {% include 'partials/left-sidebar.html' %}
        {% endblock left_sidebar %}


        {% block content %}
        {% block footer %}
        {% endblock footer %}
        {% endblock content %}
    </div>
    <!-- END layout-wrapper -->


    {% block right_sidebar %}
        {% include 'partials/right-sidebar.html'%}
    {% endblock right_sidebar %}


    {% block javascript %}
    <!-- JAVASCRIPT -->
        <script src="{% static 'libs/jquery/dist/jquery.min.js'%}"></script>
        <script src="{% static 'libs/bootstrap/dist/js/bootstrap.bundle.min.js'%}"></script>
        <script src="{% static 'libs/metismenu/dist/metisMenu.min.js'%}"></script>
        <script src="{% static 'libs/simplebar/dist/simplebar.min.js'%}"></script>
        <script src="{% static 'libs/node-waves/dist/waves.min.js'%}"></script>
        <script src="{% static 'libs/feather-icons/dist/feather.min.js'%}"></script>
        <!-- pace js -->
        <script src="{% static 'libs/pace-js/pace.min.js'%}"></script>
        {% block extra_js %}
        {% endblock extra_js %}
        <script src="{% static 'libs/flatpickr/dist/flatpickr.min.js'%}"></script>
        <script src="{% static 'js/app.js'%}"></script>
        <script>
            $(document).ready(function() {
                AjaxDatatableViewUtils.init({
                    language: {
                        "decimal":        "",
                        "emptyTable":     "Пустая таблица",
                        "info":           "Показано _START_ из _END_ записей",
                        "infoEmpty":      "",
                        "infoFiltered":   "(Отфильтровано из _MAX_ записей)",
                        "infoPostFix":    "",
                        "thousands":      ",",
                        "lengthMenu":     "Показать _MENU_ записей",
                        "loadingRecords": "Загрузка записей ...",
                        "processing":     "Загрузка записей ...",
                        "search":         "Поиск:",
                        "zeroRecords":    "Нет записей",
                        "paginate": {
                            "first":      "Первая",
                            "last":       "Вторая",
                            "next":       "Вперед",
                            "previous":   "Назад"
                        },
                        "aria": {
                            "sortAscending":  ": включить сортировку по возрастанию",
                            "sortDescending": ": включить сортировку по убыванию"
                        }
                    },
                    fn_daterange_widget_initialize: function(table, data) {
                        var wrapper = table.closest('.dataTables_wrapper');
                        var toolbar = wrapper.find(".toolbar");
                        toolbar.html(
                            '<div class="row" style="float: left; margin-right: 40px; margin-left: 10px">' +
                            'От: &nbsp;<input type="text" class="form-control" style="width: auto" autocomplete="off" id="datepicker-from">' +
                            '&nbsp;&nbsp;' +
                            'До: &nbsp;<input type="text" class="form-control" style="width: auto" autocomplete="off" id="datepicker-to">' +
                            '</div>'
                        );
                        flatpickr("#datepicker-from",{defaultDate:new Date})
                        flatpickr("#datepicker-to",{defaultDate:new Date})
                        var date_pickers = toolbar.find('#datepicker-from, #datepicker-to');
                        date_pickers.on('change', function(event) {
                            // Annotate table with values retrieved from date widgets
                            var dt_from = toolbar.find('#datepicker-from').data("datepicker");
                            var dt_to = toolbar.find('#datepicker-to').data("datepicker");
                            table.data('date_from', dt_from ? dt_from.getFormattedDate("yyyy-mm-dd") : '');
                            table.data('date_to', dt_to ? dt_to.getFormattedDate("yyyy-mm-dd") : '');
                            // Redraw table
                            table.api().draw();
                        });
                    }
                });
            });
        </script>
    {% endblock javascript %}
</body>

</html>